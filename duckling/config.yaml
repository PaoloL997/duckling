models:
  llm: gpt-4.1-nano
  tokenizer: sentence-transformers/all-MiniLM-L6-v2

prompts:
  retrive_image_description: |
    You are given the following markdown content extracted from a PDF document.

    Your task is to identify and process images ONLY when they are explicitly defined using the following Markdown syntax:

    ![Image](path/to/image)

    IMPORTANT RULES:
    - Consider an image present ONLY if the exact Markdown pattern `![Image](...)` exists.
    - Ignore any textual references to figures, diagrams, screenshots, or images that are NOT accompanied by this syntax.
    - Do NOT infer images from captions, figure numbers, or descriptive text alone.

    For each valid image found, create a JSON object with the following fields:
    - "path": the full path or URL of the image exactly as it appears inside the parentheses
    - "name": the exact name or identifier used to reference this image in the surrounding text (before or after the image).  
      - If no explicit name or identifier is present, use the image filename (without extension) as the name.
    - "description": a detailed and reasoned explanation of what the image represents, inferred strictly from the surrounding text and its role in the document.

    Additional constraints:
    - Carefully analyze the text immediately before and after each image to determine its correct reference name and purpose.
    - If the same image path appears multiple times, output only one JSON object with a merged and comprehensive description.
    - Do not hallucinate or invent images that are not explicitly present via the Markdown syntax.

    Output format:
    - Return a single valid JSON array.
    - Do not include any additional text outside the JSON.

    Markdown content:
    {markdown_content}

  describe_image: |
    Describe the image in detail. Explain what is visible, including the main subjects, their surroundings, and any relevant actions, 
    objects, or features. Mention colors, composition, and general atmosphere if noticeable. If any measurements, dimensions, scale
    indicators, abbreviations, symbols, numbers, or text appear in the image, include them accurately in the description. Focus on
    providing a clear, precise, and complete account of everything observable in the image.

  image_refinement: |
    The attached image corresponds to the following description: {description}.

    Carefully analyze the image and expand the provided description by including all visible details shown in the image.
    Make sure to cover text, symbols, labels, measurements, numerical values, annotations, and any other relevant visual elements present in the image.
    The resulting description should be comprehensive, precise, and faithful to what is visually observable.

    Return the enhanced description only, without any additional commentary or formatting.
