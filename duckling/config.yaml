models:
  llm: gpt-4.1-nano
  tokenizer: sentence-transformers/all-MiniLM-L6-v2

prompts:
  retrive_image_description: |
    You are given the following markdown content extracted from a PDF document. 
    Your task is to analyze ALL images present in the markdown and determine their relevance.

    For each image found, create a JSON object with the following fields:
    - "path": the full path or URL of the image as it appears in the markdown
    - "name": the name or identifier used to reference this image in the text (e.g., "Figure 1", "Schema A", etc.) or "Generic" if no specific reference
    - "description": a detailed explanation of what the image represents based on its context
    - "relevant": boolean - true if the image has specific textual reference (Figure 1, Diagram A, Table 2, etc.), false if it's decorative/generic/logo/unreferenced

    RELEVANCE CRITERIA (relevant: true):
    - Image is specifically mentioned by name/number in the text (e.g., "Figure 1", "Diagram A", "Schema B", "Table 2")
    - Image is directly referenced (e.g., "see Figure X", "as shown in", "the diagram below")

    NOT RELEVANT (relevant: false):
    - Logos, icons, watermarks, decorative elements
    - Images with only generic references like "Image", "Picture"
    - Images not mentioned in the surrounding text
    - Header/footer graphics

    IMPORTANT: Include ALL images but mark their relevance correctly.

    Markdown content:
    {markdown_content}

  describe_image: |
    Describe the image in detail. Explain what is visible, including the main subjects, their surroundings, and any relevant actions, 
    objects, or features. Mention colors, composition, and general atmosphere if noticeable. If any measurements, dimensions, scale
    indicators, abbreviations, symbols, numbers, or text appear in the image, include them accurately in the description. Focus on
    providing a clear, precise, and complete account of everything observable in the image.

  image_refinement: |
    Here is the description of the attached image: {description}. 

    Analyze the actual image and provide an enhanced, detailed description based on what you see. Expand and refine the existing description with specific details observed in the image.

    Your enhanced description should:
    - Start immediately with the description (no prefixes like "Enhanced description:" or "This image shows:")
    - Include all visible technical details, measurements, labels, text, numbers, and components
    - Describe materials, shapes, dimensions, and spatial relationships of technical elements
    - Identify any symbols, abbreviations, scales, annotations, or technical markings
    - Focus exclusively on technical and engineering content
    - Preserve and enhance any relevant technical information from the original description
    - Be precise about specifications, tolerances, part numbers, or technical identifiers

    IMPORTANT: Focus only on technical details. Exclude decorative elements, backgrounds, or non-technical visual aspects.
